(this["webpackJsonpdata-for-everyone-frontend"]=this["webpackJsonpdata-for-everyone-frontend"]||[]).push([[0],{46:function(e,t,a){e.exports=a(75)},75:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(19),o=a.n(l),c=a(13),s=a(15),i=a(5),u=a(6),m=a.n(u),d=a(12),p=a(20),E=a.n(p),f={login:function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post("/api/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g="",h={register:function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post("/api/users",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get:function(){var e=Object(d.a)(m.a.mark((function e(t){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:g}},e.next=3,E.a.get("".concat("/api/users","/").concat(t),a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){g="bearer ".concat(e)}},v=a(82),b=a(77),y=function(e){var t=e.setUser,a=e.setNotification,l=Object(r.useState)(""),o=Object(c.a)(l,2),s=o[0],i=o[1],u=Object(r.useState)(""),p=Object(c.a)(u,2),E=p[0],g=p[1],y=function(){var e=Object(d.a)(m.a.mark((function e(r){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,f.login({username:s,password:E});case 4:n=e.sent,window.localStorage.setItem("loggedHotelappUser",JSON.stringify(n)),i(""),g(""),h.setToken(n.token),a(null),t(n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),a({message:"Wrong credentials",isError:!0});case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",null,n.a.createElement("h1",null,"Login Form"),n.a.createElement("hr",null),n.a.createElement(v.a,{onSubmit:y},n.a.createElement(v.a.Group,null,n.a.createElement(v.a.Label,null,"Username"),n.a.createElement(v.a.Control,{id:"username",type:"text",placeholder:"Enter username",value:s,onChange:function(e){var t=e.target;return i(t.value)}}),n.a.createElement(v.a.Text,{className:"text-muted"},"Note: Kept the password as default for the admin account for ease of testing")),n.a.createElement(v.a.Group,{controlId:"formBasicPassword"},n.a.createElement(v.a.Label,null,"Password"),n.a.createElement(v.a.Control,{id:"password",type:"password",placeholder:"Enter password",value:E,onChange:function(e){var t=e.target;return g(t.value)}})),n.a.createElement(b.a,{variant:"primary",type:"submit"},"Submit")))},w={color:"red",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"},x={color:"green",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"},k=function(e){var t=e.notification;return t&&t.message?t.isError?n.a.createElement("div",{style:w},t.message):n.a.createElement("div",{style:x},t.message):null},S=a(78),O=function(e){var t=e.user,a=Object(r.useState)(null),l=Object(c.a)(a,2),o=l[0],s=l[1];return Object(r.useEffect)((function(){(function(){var e=Object(d.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get(t.id);case 2:a=e.sent,s(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t.id]),n.a.createElement("div",null,n.a.createElement("h1",null,"Profile"),n.a.createElement("hr",null),n.a.createElement(S.a,null,n.a.createElement("tr",null,n.a.createElement("td",null,"Username"),n.a.createElement("td",null,t.username)),n.a.createElement("tr",null,n.a.createElement("td",null,"Credit Card"),o&&o.creditCard?n.a.createElement("td",null,"************",o.creditCard.substring(12,16)):n.a.createElement("td",null,n.a.createElement("p",null,"You need to set a credit card"),n.a.createElement(b.a,{variant:"primary"},"Set credit card")))))},j=function(e){var t=e.setUser,a=e.setNotification,l=Object(r.useState)(""),o=Object(c.a)(l,2),s=o[0],i=o[1],u=Object(r.useState)(""),p=Object(c.a)(u,2),E=p[0],g=p[1],y=function(){var e=Object(d.a)(m.a.mark((function e(r){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,h.register({username:s,password:E});case 4:return e.next=6,f.login({username:s,password:E});case 6:n=e.sent,window.localStorage.setItem("loggedHotelappUser",JSON.stringify(n)),i(""),g(""),a(null),t(n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),a({message:e.t0.response.data.error,isError:!0});case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",null,n.a.createElement("h1",null,"Registration Form"),n.a.createElement("hr",null),n.a.createElement(v.a,{onSubmit:y},n.a.createElement(v.a.Group,null,n.a.createElement(v.a.Label,null,"Username"),n.a.createElement(v.a.Control,{id:"username",type:"text",placeholder:"Enter username",value:s,onChange:function(e){var t=e.target;return i(t.value)}}),n.a.createElement(v.a.Text,{className:"text-muted"},"Note: Username is unique")),n.a.createElement(v.a.Group,{controlId:"formBasicPassword"},n.a.createElement(v.a.Label,null,"Password"),n.a.createElement(v.a.Control,{id:"password",type:"password",placeholder:"Enter password",value:E,onChange:function(e){var t=e.target;return g(t.value)}})),n.a.createElement(b.a,{variant:"primary",type:"submit"},"Submit")))},C=a(79),L=a(80),N=a(84),T=[{id:0,name:"Luxury Muxury",rate:"$50/d",description:"Only for kings and queens!"},{id:1,name:"The Ghostly Shadows",rate:"$1/d",description:"Too spooky for me"},{id:2,name:"Party Marty",rate:"$20/d",description:"Party animals ONLY. Yeehaw."},{id:3,name:"The Zoo",rate:"$30/d",description:"Animal themed room with lots of stuffed animals."},{id:4,name:"The Aquarium",rate:"$30/d",description:"Swim with the dolphins with our water themed room."},{id:5,name:"Common Room",rate:"$10/d",description:"For commoners like oessatreB nadroJ"}],U=function(){return n.a.createElement(C.a,null,n.a.createElement("h1",null,"Rooms"),n.a.createElement(L.a,null,T.map((function(e){return n.a.createElement(N.a,{key:e.id},n.a.createElement(N.a.Body,null,n.a.createElement(N.a.Title,null,e.name),n.a.createElement(N.a.Text,null,n.a.createElement("small",null,e.rate)),n.a.createElement(N.a.Text,null,e.description),n.a.createElement(b.a,null,"Book now!")))}))))},B=a(81),H=a(83),G=function(){var e=Object(r.useState)(null),t=Object(c.a)(e,2),a=t[0],l=t[1],o=Object(r.useState)(null),u=Object(c.a)(o,2),m=u[0],d=u[1],p={padding:5,color:"white",textDecoration:"none"};return Object(r.useEffect)((function(){var e=window.localStorage.getItem("loggedHotelappUser");if(e){var t=JSON.parse(e);h.setToken(t.token),l(t)}}),[]),n.a.createElement(s.a,null,n.a.createElement(B.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},n.a.createElement(B.a.Brand,{href:"#"},n.a.createElement(s.b,{style:p,to:"/"},"Hotels Galore")),n.a.createElement(H.a,{className:"mr-auto"},n.a.createElement(H.a.Link,{href:"#",as:"span"},n.a.createElement(s.b,{style:p,to:"/"},"Home")),n.a.createElement(H.a.Link,{href:"#",as:"span"},n.a.createElement(s.b,{style:p,to:"/rooms"},"Rooms")),a?n.a.createElement(H.a.Link,{href:"#",as:"span"},n.a.createElement(s.b,{style:p,to:"/profile"},"Profile")):n.a.createElement(n.a.Fragment,null,n.a.createElement(H.a.Link,{href:"#",as:"span"},n.a.createElement(s.b,{style:p,to:"/register"},"Register")),n.a.createElement(H.a.Link,{href:"#",as:"span"},n.a.createElement(s.b,{style:p,to:"/login"},"Login")))),a?n.a.createElement("div",null,n.a.createElement(B.a.Text,{style:{paddingRight:"20px"}},"Signed in as: ",a.username),n.a.createElement(b.a,{variant:"primary",onClick:function(){l(null),window.localStorage.removeItem("loggedHotelappUser")}},"Logout")):n.a.createElement("div",null,n.a.createElement(b.a,{variant:"primary",onClick:function(){l(null),window.localStorage.removeItem("loggedHotelappUser")}},n.a.createElement(s.b,{style:p,to:"/login"},"Login")))),n.a.createElement("div",{className:"container",style:{paddingTop:"40px",paddingBottom:"20px"}},n.a.createElement(k,{notification:m}),n.a.createElement(i.d,null,n.a.createElement(i.b,{path:"/rooms"},n.a.createElement(U,null)),n.a.createElement(i.b,{path:"/profile"},a?n.a.createElement(O,{user:a}):n.a.createElement(i.a,{to:"/login"})),n.a.createElement(i.b,{path:"/login"},a?n.a.createElement(i.a,{to:"/profile"}):n.a.createElement(y,{setUser:l,setNotification:d})),n.a.createElement(s.a,{path:"/register"},a?n.a.createElement(i.a,{to:"/profile"}):n.a.createElement(j,{setUser:l,setNotification:d})),n.a.createElement(i.b,{path:"/"},n.a.createElement("h1",null,"Hotels Galore"),n.a.createElement("hr",null),n.a.createElement("p",null,"Welcome to Hotels Galore! Find the perfect room for you to sleep comfortably in.")))))};o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(G,null)),document.getElementById("root"))}},[[46,1,2]]]);